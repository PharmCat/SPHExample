var documenterSearchIndex = {"docs":
[{"location":"functions/#Functions","page":"Functions","title":"Functions","text":"","category":"section"},{"location":"functions/#SPHExample.Wᵢⱼ","page":"Functions","title":"SPHExample.Wᵢⱼ","text":"","category":"section"},{"location":"functions/","page":"Functions","title":"Functions","text":"SPHExample.Wᵢⱼ","category":"page"},{"location":"functions/#SPHExample.SimulationEquations.Wᵢⱼ","page":"Functions","title":"SPHExample.SimulationEquations.Wᵢⱼ","text":"Wᵢⱼ(αD, q)\n\nFunction to calculate Kernel Value:\n\nWᵢⱼ = αD * (1 - fracq2)^4 * (2 * q + 1)\n\n\n\n\n\n","category":"function"},{"location":"functions/#SPHExample.ⱼWᵢⱼ","page":"Functions","title":"SPHExample.∑ⱼWᵢⱼ","text":"","category":"section"},{"location":"functions/","page":"Functions","title":"Functions","text":"SPHExample.∑ⱼWᵢⱼ","category":"page"},{"location":"functions/#SPHExample.SimulationEquations.∑ⱼWᵢⱼ","page":"Functions","title":"SPHExample.SimulationEquations.∑ⱼWᵢⱼ","text":"∑ⱼWᵢⱼ(list, points, αD, h)\n\n\n\n\n\n\n\n","category":"function"},{"location":"functions/#SPHExample.OptimᵢWᵢⱼ","page":"Functions","title":"SPHExample.Optim∇ᵢWᵢⱼ","text":"","category":"section"},{"location":"functions/","page":"Functions","title":"Functions","text":"SPHExample.Optim∇ᵢWᵢⱼ","category":"page"},{"location":"functions/#SPHExample.SimulationEquations.Optim∇ᵢWᵢⱼ","page":"Functions","title":"SPHExample.SimulationEquations.Optim∇ᵢWᵢⱼ","text":"Optim∇ᵢWᵢⱼ(αD, q, xᵢⱼ, h)\n\nOriginal implementation of kernel gradient:\n\n\n\n\n\n\n\n","category":"function"},{"location":"functions/#SPHExample.ⱼᵢWᵢⱼ!","page":"Functions","title":"SPHExample.∑ⱼ∇ᵢWᵢⱼ!","text":"","category":"section"},{"location":"functions/","page":"Functions","title":"Functions","text":"SPHExample.∑ⱼ∇ᵢWᵢⱼ!","category":"page"},{"location":"functions/#SPHExample.SimulationEquations.∑ⱼ∇ᵢWᵢⱼ!","page":"Functions","title":"SPHExample.SimulationEquations.∑ⱼ∇ᵢWᵢⱼ!","text":"∑ⱼ∇ᵢWᵢⱼ(list, points, αD, h)\n\n\n\n\n\n\n\n","category":"function"},{"location":"functions/#SPHExample.Pressure","page":"Functions","title":"SPHExample.Pressure","text":"","category":"section"},{"location":"functions/","page":"Functions","title":"Functions","text":"SPHExample.Pressure","category":"page"},{"location":"functions/#SPHExample.SimulationEquations.Pressure","page":"Functions","title":"SPHExample.SimulationEquations.Pressure","text":"Pressure(ρ, c₀, γ, ρ₀)\n\nEquation of State in Weakly-Compressible SPH\n\n\n\n\n\n\n\n","category":"function"},{"location":"functions/#SPHExample.Πᵢⱼt!","page":"Functions","title":"SPHExample.∂Πᵢⱼ∂t!","text":"","category":"section"},{"location":"functions/","page":"Functions","title":"Functions","text":"SPHExample.∂Πᵢⱼ∂t!","category":"page"},{"location":"functions/#SPHExample.SimulationEquations.∂Πᵢⱼ∂t!","page":"Functions","title":"SPHExample.SimulationEquations.∂Πᵢⱼ∂t!","text":"∂Πᵢⱼ∂t(list, points, h, ρ, α, v, c₀, m₀, WgL)\n\nThe artificial viscosity term:\n\n\n\n\n\n\n\n","category":"function"},{"location":"functions/#SPHExample.ρᵢtDDT!","page":"Functions","title":"SPHExample.∂ρᵢ∂tDDT!","text":"","category":"section"},{"location":"functions/","page":"Functions","title":"Functions","text":"SPHExample.∂ρᵢ∂tDDT!","category":"page"},{"location":"functions/#SPHExample.SimulationEquations.∂ρᵢ∂tDDT!","page":"Functions","title":"SPHExample.SimulationEquations.∂ρᵢ∂tDDT!","text":"∂ρᵢ∂tDDT(list, points, h, m₀, δᵩ, c₀, γ, g, ρ₀, ρ, v, WgL, MotionLimiter)\n\nThe density derivative function INCLUDING density diffusion:\n\n\n\n\n\n\n\n","category":"function"},{"location":"functions/#SPHExample.vᵢt!","page":"Functions","title":"SPHExample.∂vᵢ∂t!","text":"","category":"section"},{"location":"functions/","page":"Functions","title":"Functions","text":"SPHExample.∂vᵢ∂t!","category":"page"},{"location":"functions/#SPHExample.SimulationEquations.∂vᵢ∂t!","page":"Functions","title":"SPHExample.SimulationEquations.∂vᵢ∂t!","text":"∂vᵢ∂t(list, points, m, ρ, WgL, c₀, γ, ρ₀)\n\nThe momentum equation without any dissipation - we add the dissipation using artificial viscosity (∂Πᵢⱼ∂t):\n\n\n\n\n\n\n\n","category":"function"},{"location":"functions/#SPHExample.Δt","page":"Functions","title":"SPHExample.Δt","text":"","category":"section"},{"location":"functions/","page":"Functions","title":"Functions","text":"SPHExample.Δt","category":"page"},{"location":"functions/#SPHExample.TimeStepping.Δt","page":"Functions","title":"SPHExample.TimeStepping.Δt","text":"Δt(α, points, v, c₀, h, CFL)\n\nA few time stepping controls implemented to allow for an adaptive time step:\n\n\n\n\n\n","category":"function"},{"location":"#SPHExample","page":"Home","title":"SPHExample","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = SPHExample","category":"page"},{"location":"#SPH-Example","page":"Home","title":"SPH Example","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"An example of how to write a relatively simple SPH (Smoothed Particle Hydrodynamics) dam-break simulation in Julia. Feel free to star the package if it helped you and please do let me know if you ended up using this to learn SPH yourself, used it in your teaching etc. It is really a motivation booster to hear!","category":"page"},{"location":"","page":"Home","title":"Home","text":"If for some reason you end up pointing to this repository due to you writing a thesis, paper etc., I would love to know!","category":"page"},{"location":"","page":"Home","title":"Home","text":"The code can produce a 2D dam-break (@DamBreak2D-Video):","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: plot)","category":"page"},{"location":"","page":"Home","title":"Home","text":"Or if you are really patient (1+ day to calculate) a 3D case (@DamBreak3D-Video)::","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: plot)","category":"page"},{"location":"#Description","page":"Home","title":"Description","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The purpose of this code is to serve as an introduction to the SPH (Smoothed Particle Hydrodynamics) method. I have been working in SPH for quite a few years now and noticed that although great software packages exist in this field, it was difficult to find a \"simple\" example of setting up an SPH solver.","category":"page"},{"location":"","page":"Home","title":"Home","text":"To fill this \"void\" I decided to go about writing one and learning the necessary steps to do so. The choice of language was Julia, since I've been part of this community for some years and really believe in the concept behind Julia. Also it is a language with a syntax complexity level of around Python, so it would still serve as good inspiration for others wanting to write their own dam break code to look through this.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Key-elements of the code are:","category":"page"},{"location":"","page":"Home","title":"Home","text":"Weakly Compressible SPH\nDensity varies about ~1% in time, for numerical reasons and the pressure equation is based on the density\nSingle threaded approach\nFor simplicity since I consider this a teaching example. Commercial scale SPH should always be done on GPU's anyways.\nDynamic Boundary Condition (as in DualSPHysics)\nDualSPHysics is one of the most well-known SPH packages. Thought it would be a good idea to show how one implements this boundary condition.\nDensity Diffusion\nNecessary to produce a non-noise density field, which is important for the momentum equation, since pressure is a function of density in weakly compressible SPH\nWendland Quintic Kernel (as in DualSPHysics)\nOne of the simpler kernels which does not require tensile correction to be applied.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Please remember that this code is not made to be performant. It is made to teach and showcase one way to code a relatively simple SPH dam break.","category":"page"},{"location":"#Getting-Started","page":"Home","title":"Getting Started","text":"","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"import Pkg\nPkg.add(url = \"https://github.com/AhmedSalih3d/SPHExample.git\")","category":"page"},{"location":"#Introduction","page":"Home","title":"Introduction","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The package is structured into \"input\", \"example\" and \"src\". \"input\" contains some pre-generated particle layouts from DualSPHysics in .csv format. These paths are specified in the \"RunSimulation\" function found in \"example/MainSimulation.jl\", not as an input but as something which should be changed inside the function and recompiled. After installing the package, run the code in \"example/MainSimulation.jl\" to start your first simulation. ","category":"page"},{"location":"","page":"Home","title":"Home","text":"The \"src\" package contains all the code files used in this process. An overview of these is shown;","category":"page"},{"location":"","page":"Home","title":"Home","text":"PreProcess\nFunction for loading in the files in \"input\"\nPostProcess\nFunction to output .vtp files\nAuxillaryFunctions\nNot used, but provided as a service to extract all particle ids based on a neighbour list\nTimeStepping\nSome simple time stepping controls\nSimulatioNEquations\nAll SPH related physics functions","category":"page"},{"location":"","page":"Home","title":"Home","text":"A few key-packages are used and automatically imported. Listed here for your convenience:","category":"page"},{"location":"","page":"Home","title":"Home","text":"CellListMap\nA package which allows to return an array of tuples consisting of (particle i, particle j, distance between particle i and particle j), which significantly simplifies and speeds up the calculation process.\nWriteVTK\nA package which outputs results calculated in this package to the .vtp format. Remember to view results in Paraview you have to select something other than \"Solid Color\" and for example \"Point Gaussian\" instead of \"Surface\" repesentation.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Without these, this example would have been significantly harder to write - and of course thank you to the Julia eco-system as a whole. ","category":"page"},{"location":"#Executing-program","page":"Home","title":"Executing program","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"In \"MainSimulation.jl\"  you will find:","category":"page"},{"location":"","page":"Home","title":"Home","text":"RunSimulation(SaveLocation=\"E:/SecondApproach/Results\",SimulationName=\"DamBreak\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"You have to make the save location before hand for the code to work. Then you can call the code using the following syntax from above. Inside the \"RunSimulation\" function you will find hard coded:","category":"page"},{"location":"","page":"Home","title":"Home","text":"    ### VARIABLE EXPLANATION\n    # FLUID_CSV = PATH TO FLUID PARTICLES, SEE \"input\" FOLDER\n    # BOUND_CSV = PATH TO BOUNDARY PARTICLES, SEE \"input\" FOLDER\n    # ρ₀  = REFERENCE DENSITY\n    # dx  = INITIAL PARTICLE DISTANCE, SEE \"dp\" IN CSV FILES, FOR 3D SIM: 0.0085\n    # H   = SMOOTHING LENGTH\n    # m₀  = INITIAL MASS (REFERENCE DENSITY * DX^(SIMULATION DIMENSIONS))\n    # mᵢ  = mⱼ = m₀ | ALL PARTICLES HAVE THE SAME MASS, ALWAYS\n    # αD  = NORMALIZATION CONSTANT FOR KERNEL\n    # α   = ARTIFICIAL VISCOSITY ALPHA VALUE\n    # g   = GRAVITY (POSITIVE!)\n    # c₀  = SPEED OF SOUND, MUST BE 10X HIGHEST VELOCITY IN SIMULATION\n    # γ   = GAMMA, MOST COMMONLY 7 FOR WATER, USE FOR PRESSURE EQUATION OF STATE\n    # dt  = INITIAL TIME STEP\n    # δᵩ  = 0.1 | COEFFICIENT FOR DENSITY DIFFUSION, SHOULD ALWAYS BE 0.1\n    # CFL = CFL NUMBER\n\n    ### 2D Dam Break\n    FLUID_CSV = \"./input/FluidPoints_Dp0.02.csv\"\n    BOUND_CSV = \"./input/BoundaryPoints_Dp0.02.csv\"\n    ρ₀  = 1000\n    dx  = 0.02\n    H   = 1.2*sqrt(2)*dx\n    m₀  = ρ₀*dx*dx #mᵢ  = mⱼ = m₀\n    αD  = (7/(4*π*H^2))\n    α   = 0.01\n    g   = 9.81\n    c₀  = sqrt(g*2)*20\n    γ   = 7\n    dt  = 1e-5\n    δᵩ  = 0.1\n    CFL = 0.2","category":"page"},{"location":"","page":"Home","title":"Home","text":"These parameters have been tested and should work out of the box. Other than these inputs you should not have to change anything else. ","category":"page"},{"location":"#Help","page":"Home","title":"Help","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Any questions about the code feel free to post an issue on this repository. Please do understand it might take some time for me to respond back.","category":"page"},{"location":"#Authors","page":"Home","title":"Authors","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Written by Ahmed Salih @AhmedSalih3D","category":"page"},{"location":"#Version-History","page":"Home","title":"Version History","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Version 0.1 | Release Version\nmain        | A cleaned up version of the original release version","category":"page"},{"location":"#License","page":"Home","title":"License","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This project is licensed under the MIT License - see the LICENSE.md file for details","category":"page"},{"location":"#Acknowledgments","page":"Home","title":"Acknowledgments","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"DualSPHysics (https://dual.sphysics.org/) was a great inspiration for this code.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Thank you to the general Julia eco-system and especially Leandro Martínez (https://github.com/lmiq) who is also the author of CellListMap.jl. He was a great help in understanding how to best use the neighbour-list algorithm. ","category":"page"}]
}
